# ğŸš€ å¼€å§‹ Sentinel å­¦ä¹ ä¹‹æ—…

æ¬¢è¿æ¥åˆ°ã€Šå¾®æœåŠ¡æ²»ç†æ ¸å¿ƒã€‹ç¬¬3ç« ï¼š**æœåŠ¡å®¹é”™ä¿æŠ¤ - Sentinel**ï¼

## ğŸ“‹ å­¦ä¹ å‡†å¤‡æ¸…å•

### âœ… å·²å®Œæˆé¡¹ç›®
- [x] å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡
- [x] Nacos æœåŠ¡æ³¨å†Œä¸å‘ç°
- [x] Nacos Config é…ç½®ä¸­å¿ƒ
- [x] OpenFeign æœåŠ¡é—´è°ƒç”¨
- [x] å¾®æœåŠ¡æ­£å¸¸è¿è¡Œ

### ğŸ¯ æœ¬ç« å­¦ä¹ ç›®æ ‡

1. **ç†è§£æœåŠ¡å®¹é”™çš„é‡è¦æ€§** - ä¸ºä»€ä¹ˆéœ€è¦Sentinelï¼Ÿ
2. **æŒæ¡Sentinelæ ¸å¿ƒæ¦‚å¿µ** - æµæ§ã€ç†”æ–­ã€é™çº§
3. **å®æˆ˜Sentinelé›†æˆ** - ä¿æŠ¤æˆ‘ä»¬çš„å¾®æœåŠ¡
4. **é…ç½®å¯è§†åŒ–ç®¡ç†** - Sentinel Dashboardçš„ä½¿ç”¨
5. **æœåŠ¡é—´å®¹é”™** - OpenFeign + Sentinel

## ğŸ› ï¸ ç¯å¢ƒå‡†å¤‡

### ç¬¬ä¸€æ­¥ï¼šä¸‹è½½ Sentinel Dashboard

ç”±äºç½‘ç»œåŸå› ï¼Œè¯·æ‰‹åŠ¨ä¸‹è½½ Sentinel Dashboardï¼š

1. **è®¿é—®æ§åˆ¶å°**ï¼šhttps://github.com/alibaba/Sentinel/releases/tag/1.8.6
2. **ä¸‹è½½æ–‡ä»¶**ï¼š`sentinel-dashboard-1.8.6.jar` (çº¦19MB)
3. **ä¿å­˜ä½ç½®**ï¼š`d:\workstation\training\monolith-app\` ç›®å½•ä¸‹

**æˆ–è€…ä½¿ç”¨ Docker å¯åŠ¨ï¼ˆæ¨èï¼‰**ï¼š
```bash
docker run -d -p 8858:8080 --name sentinel-dashboard bladex/sentinel-dashboard:1.8.6
```

**å¤‡ç”¨ä¸‹è½½é“¾æ¥**ï¼š
- Maven Central: https://repo1.maven.org/maven2/com/alibaba/csp/sentinel-dashboard/1.8.6/sentinel-dashboard-1.8.6.jar

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ Sentinel Dashboard

ä¸‹è½½å®Œæˆåï¼Œè¿è¡Œå¯åŠ¨è„šæœ¬ï¼š
```bash
# Docker æ–¹å¼ï¼ˆæ¨èï¼‰
docker run -d -p 8858:8080 --name sentinel-dashboard bladex/sentinel-dashboard:1.8.6

# æˆ–ä½¿ç”¨ Jar åŒ…æ–¹å¼
.\start-sentinel-dashboard.bat
```

æˆ–æ‰‹åŠ¨å¯åŠ¨ï¼š
```bash
java -Dserver.port=8858 -jar sentinel-dashboard-1.8.6.jar
```

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å¯åŠ¨æˆåŠŸ

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8858
2. ç™»å½•ä¿¡æ¯ï¼š
   - ç”¨æˆ·åï¼š`sentinel`
   - å¯†ç ï¼š`sentinel`

## ğŸ”§ å¾®æœåŠ¡é›†æˆå‡†å¤‡

æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¸ºç°æœ‰çš„å¾®æœåŠ¡é›†æˆ Sentinelï¼š

### user-service é›†æˆè®¡åˆ’
- âœ¨ æ·»åŠ  Sentinel ä¾èµ–
- ğŸ”§ é…ç½® Dashboard è¿æ¥
- ğŸ›¡ï¸ ä¿æŠ¤ç”¨æˆ·æŸ¥è¯¢æ¥å£
- ğŸ“Š é…ç½®æµæ§è§„åˆ™

### product-service é›†æˆè®¡åˆ’  
- âœ¨ æ·»åŠ  Sentinel ä¾èµ–
- ğŸ”§ é…ç½® Dashboard è¿æ¥
- ğŸ›¡ï¸ ä¿æŠ¤å•†å“æ¥å£
- ğŸ”¥ é…ç½®ç†”æ–­è§„åˆ™

### æœåŠ¡é—´è°ƒç”¨ä¿æŠ¤
- ğŸ¤ OpenFeign + Sentinel é›†æˆ
- ğŸ’” æœåŠ¡é™çº§å¤„ç†
- ğŸ”„ å®¹é”™æ¢å¤æœºåˆ¶

## ğŸ¯ å®æˆ˜æ¼”ç¤ºåœºæ™¯

æˆ‘ä»¬å°†é€šè¿‡ä»¥ä¸‹åœºæ™¯å­¦ä¹  Sentinelï¼š

1. **æ­£å¸¸è®¿é—®** â†’ è§‚å¯Ÿè¯·æ±‚é€šè¿‡
2. **é«˜å¹¶å‘è®¿é—®** â†’ è§¦å‘æµé‡æ§åˆ¶  
3. **æœåŠ¡å¼‚å¸¸** â†’ è§¦å‘ç†”æ–­ä¿æŠ¤
4. **ç½‘ç»œæ•…éšœ** â†’ æœåŠ¡é™çº§å¤„ç†

## ğŸ“š ç†è®ºåŸºç¡€å›é¡¾

### ä»€ä¹ˆæ˜¯é›ªå´©æ•ˆåº”ï¼Ÿ
åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå½“ä¸€ä¸ªæœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ ç½‘å…³ â†’ ç”¨æˆ·æœåŠ¡ â†’ å•†å“æœåŠ¡ â†’ æ•°æ®åº“
                      â†“
                  å•†å“æœåŠ¡æ•…éšœ
                      â†“
            ç”¨æˆ·æœåŠ¡è¯·æ±‚å †ç§¯ï¼Œæ¶ˆè€—èµ„æº
                      â†“
              ç”¨æˆ·æœåŠ¡ä¹Ÿå¼€å§‹å‡ºç°é—®é¢˜
                      â†“
                æ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨ ğŸ’¥
```

### Sentinel å¦‚ä½•è§£å†³ï¼Ÿ
```
ç”¨æˆ·è¯·æ±‚ â†’ ç½‘å…³ â†’ ç”¨æˆ·æœåŠ¡ â†’ [Sentinelä¿æŠ¤] â†’ å•†å“æœåŠ¡
                      â†“
                  æ£€æµ‹åˆ°å•†å“æœåŠ¡å¼‚å¸¸
                      â†“
                  è§¦å‘ç†”æ–­ï¼Œè¿”å›é™çº§å“åº”
                      â†“
              ä¿æŠ¤æ•´ä¸ªè°ƒç”¨é“¾è·¯ç¨³å®š âœ…
```

## â­ï¸ å¼€å§‹å­¦ä¹ ï¼

å®Œæˆ Sentinel Dashboard ä¸‹è½½å’Œå¯åŠ¨åï¼Œæˆ‘ä»¬å°†å¼€å§‹å®é™…çš„ä»£ç é›†æˆå·¥ä½œã€‚

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹æ„å»ºç¨³å®šå¯é çš„å¾®æœåŠ¡ç³»ç»Ÿï¼** ğŸš€

---

### ğŸ’¡ å°è´´å£«

- ç¡®ä¿ Nacos æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ (172.24.238.72:8848)
- ç¡®ä¿ user-service å’Œ product-service æ­£å¸¸å¯åŠ¨
- ä¿æŒ Sentinel Dashboard è¿è¡ŒçŠ¶æ€
- å‡†å¤‡å¥½æµ‹è¯•å·¥å…·(æµè§ˆå™¨ã€Postmanç­‰)

### ğŸ†˜ å¦‚éœ€å¸®åŠ©

å¦‚æœåœ¨ä¸‹è½½æˆ–å¯åŠ¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šæä¾›è¯¦ç»†çš„è§£å†³æ–¹æ¡ˆï¼