# ğŸ›¡ï¸ Sentinel å®Œæ•´ä½¿ç”¨æŒ‡å—

## ç›®å½•
- [1. ç¯å¢ƒå‡†å¤‡](#1-ç¯å¢ƒå‡†å¤‡)
- [2. Sentinel åŸºç¡€æ¦‚å¿µ](#2-sentinel-åŸºç¡€æ¦‚å¿µ)  
- [3. å®æˆ˜æ¼”ç¤ºæ­¥éª¤](#3-å®æˆ˜æ¼”ç¤ºæ­¥éª¤)
- [4. æµé‡æ§åˆ¶è¯¦è§£](#4-æµé‡æ§åˆ¶è¯¦è§£)
- [5. ç†”æ–­é™çº§è¯¦è§£](#5-ç†”æ–­é™çº§è¯¦è§£)
- [6. çƒ­ç‚¹å‚æ•°é™æµ](#6-çƒ­ç‚¹å‚æ•°é™æµ)
- [7. OpenFeign é›†æˆ](#7-openfeign-é›†æˆ)
- [8. è§„åˆ™æŒä¹…åŒ–](#8-è§„åˆ™æŒä¹…åŒ–)
- [9. ç”Ÿäº§ç¯å¢ƒå»ºè®®](#9-ç”Ÿäº§ç¯å¢ƒå»ºè®®)
- [10. æ•…éšœæ’æŸ¥](#10-æ•…éšœæ’æŸ¥)

---

## 1. ç¯å¢ƒå‡†å¤‡

### 1.1 å¯åŠ¨é¡ºåº

1. **å¯åŠ¨ Nacos æœåŠ¡å™¨** (å·²å¯åŠ¨)
   - åœ°å€: http://172.24.238.72:8848

2. **ä¸‹è½½å¹¶å¯åŠ¨ Sentinel Dashboard**
   ```bash
   # ä¼˜å…ˆæ¨è Docker æ–¹å¼
   docker run -d -p 8858:8080 --name sentinel-dashboard bladex/sentinel-dashboard:1.8.6
   
   # æˆ–ä¸‹è½½ sentinel-dashboard-1.8.6.jar åˆ°é¡¹ç›®æ ¹ç›®å½•
   # ç„¶åè¿è¡Œå¯åŠ¨è„šæœ¬
   .\start-sentinel-dashboard.bat
   ```

3. **å¯åŠ¨å¾®æœåŠ¡**
   ```bash
   # è¿è¡Œæµ‹è¯•è„šæœ¬
   .\test-sentinel-integration.bat
   ```

### 1.2 éªŒè¯ç¯å¢ƒ

- âœ… Sentinel Dashboard: http://localhost:8858 (sentinel/sentinel)
- âœ… User Service: http://localhost:8081/api/sentinel/status  
- âœ… Product Service: http://localhost:8082/api/sentinel/status
- âœ… Nacos Console: http://172.24.238.72:8848/nacos

---

## 2. Sentinel åŸºç¡€æ¦‚å¿µ

### 2.1 æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **èµ„æº** | è¢«ä¿æŠ¤çš„å¯¹è±¡ | APIæ¥å£ã€æ–¹æ³•ã€ä»£ç å— |
| **è§„åˆ™** | ä¿æŠ¤èµ„æºçš„ç­–ç•¥ | æµæ§ã€ç†”æ–­ã€çƒ­ç‚¹å‚æ•° |
| **æŒ‡æ ‡** | èµ„æºçš„ç»Ÿè®¡æ•°æ® | QPSã€RTã€å¼‚å¸¸ç‡ |
| **æ§½ä½é“¾** | å¤„ç†è¯·æ±‚çš„é“¾è·¯ | ç»Ÿè®¡â†’è§„åˆ™â†’é™çº§ |

### 2.2 ä¿æŠ¤æœºåˆ¶

```mermaid
graph TB
    A[è¯·æ±‚] --> B[èµ„æºå®šä¹‰]
    B --> C[ç»Ÿè®¡æ•°æ®æ”¶é›†]
    C --> D[è§„åˆ™åˆ¤æ–­]
    D --> E{æ˜¯å¦è§¦å‘ä¿æŠ¤}
    E -->|æ˜¯| F[æ‰§è¡Œé™çº§é€»è¾‘]
    E -->|å¦| G[æ­£å¸¸å¤„ç†è¯·æ±‚]
    F --> H[è¿”å›é™çº§å“åº”]
    G --> I[è¿”å›æ­£å¸¸å“åº”]
```

---

## 3. å®æˆ˜æ¼”ç¤ºæ­¥éª¤

### 3.1 ç¬¬ä¸€æ­¥ï¼šè§‚å¯Ÿèµ„æº

1. è®¿é—®æµ‹è¯•æ¥å£ï¼Œè®©æœåŠ¡æ³¨å†Œåˆ° Sentinel
   ```bash
   curl http://localhost:8081/api/sentinel/test
   curl http://localhost:8082/api/sentinel/test
   ```

2. åœ¨ Sentinel Dashboard ä¸­æŸ¥çœ‹:
   - **å®æ—¶ç›‘æ§** â†’ æŸ¥çœ‹ QPSã€RT ç­‰æŒ‡æ ‡
   - **ç°‡ç‚¹é“¾è·¯** â†’ æŸ¥çœ‹èµ„æºåˆ—è¡¨

### 3.2 ç¬¬äºŒæ­¥ï¼šé…ç½®æµæ§è§„åˆ™

1. è¿›å…¥ **æµæ§è§„åˆ™** é¡µé¢
2. ç‚¹å‡» **æ–°å¢æµæ§è§„åˆ™**
3. é…ç½®å‚æ•°:
   ```
   èµ„æºå: user-test
   é˜ˆå€¼ç±»å‹: QPS  
   å•æœºé˜ˆå€¼: 2
   æµæ§æ¨¡å¼: ç›´æ¥
   æµæ§æ•ˆæœ: å¿«é€Ÿå¤±è´¥
   ```

### 3.3 ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•æµæ§æ•ˆæœ

å¿«é€Ÿè®¿é—®æ¥å£ï¼Œè§‚å¯Ÿé™æµï¼š
```bash
# å¿«é€Ÿå¤šæ¬¡è¯·æ±‚
for i in {1..10}; do curl http://localhost:8081/api/sentinel/test; echo; done
```

**é¢„æœŸç»“æœ**: è¶…è¿‡ QPS=2 çš„è¯·æ±‚è¢«æ‹’ç»ï¼Œè¿”å›é™çº§å“åº”ã€‚

---

## 4. æµé‡æ§åˆ¶è¯¦è§£

### 4.1 é˜ˆå€¼ç±»å‹

| ç±»å‹ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| **QPS** | æ¯ç§’æŸ¥è¯¢ç‡ | æ¥å£è®¿é—®é¢‘ç‡æ§åˆ¶ |
| **çº¿ç¨‹æ•°** | å¹¶å‘çº¿ç¨‹æ•° | æ…¢æ¥å£ä¿æŠ¤ |

### 4.2 æµæ§æ¨¡å¼

#### 4.2.1 ç›´æ¥æµæ§
```yaml
# æœ€ç®€å•çš„æµæ§ï¼Œç›´æ¥å¯¹å½“å‰èµ„æºé™æµ
resource: user-test
threshold: 2 QPS
effect: å¿«é€Ÿå¤±è´¥
```

#### 4.2.2 å…³è”æµæ§  
```yaml
# å½“å…³è”èµ„æºè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œé™æµå½“å‰èµ„æº
resource: user-query
å…³è”èµ„æº: user-write  
threshold: 10 QPS
è¯´æ˜: å½“å†™æ“ä½œè¿‡å¤šæ—¶ï¼Œé™åˆ¶æŸ¥è¯¢æ“ä½œ
```

#### 4.2.3 é“¾è·¯æµæ§
```yaml  
# åªå¯¹ç‰¹å®šå…¥å£çš„è°ƒç”¨é“¾è·¯ç”Ÿæ•ˆ
resource: common-method
å…¥å£èµ„æº: /api/user/list
threshold: 5 QPS  
è¯´æ˜: åªé™åˆ¶é€šè¿‡ç”¨æˆ·åˆ—è¡¨æ¥å£è°ƒç”¨çš„é€šç”¨æ–¹æ³•
```

### 4.3 æµæ§æ•ˆæœ

#### 4.3.1 å¿«é€Ÿå¤±è´¥
- **è¡Œä¸º**: ç«‹å³æŠ›å‡º FlowException
- **é€‚ç”¨**: å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„åœºæ™¯

#### 4.3.2 Warm Up (é¢„çƒ­)
- **è¡Œä¸º**: ç¼“æ…¢å¢åŠ æµé‡ç›´åˆ°è®¾å®šé˜ˆå€¼
- **å‚æ•°**: é¢„çƒ­æ—¶é•¿ (ç§’)
- **é€‚ç”¨**: ç³»ç»Ÿå¯åŠ¨åœºæ™¯

#### 4.3.3 æ’é˜Ÿç­‰å¾…
- **è¡Œä¸º**: è¯·æ±‚æ’é˜Ÿï¼ŒåŒ€é€Ÿé€šè¿‡  
- **å‚æ•°**: è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
- **é€‚ç”¨**: å‰Šå³°å¡«è°·åœºæ™¯

### 4.4 å®æˆ˜é…ç½®ç¤ºä¾‹

```bash
# æµ‹è¯•ä¸åŒæµæ§æ•ˆæœ

# 1. å¿«é€Ÿå¤±è´¥ (é»˜è®¤)
èµ„æº: user-test, QPS=2, å¿«é€Ÿå¤±è´¥

# 2. é¢„çƒ­æ¨¡å¼  
èµ„æº: user-slow, QPS=5, Warm Up, é¢„çƒ­æ—¶é•¿=10ç§’

# 3. æ’é˜Ÿç­‰å¾…
èµ„æº: product-inventory, QPS=1, æ’é˜Ÿç­‰å¾…, è¶…æ—¶=5000ms
```

---

## 5. ç†”æ–­é™çº§è¯¦è§£

### 5.1 ç†”æ–­ç­–ç•¥

| ç­–ç•¥ | è§¦å‘æ¡ä»¶ | ä½¿ç”¨åœºæ™¯ |
|------|----------|----------|
| **æ…¢è°ƒç”¨æ¯”ä¾‹** | å“åº”æ—¶é—´ > RTä¸”æ¯”ä¾‹ > é˜ˆå€¼ | ä¾èµ–æœåŠ¡å“åº”æ…¢ |
| **å¼‚å¸¸æ¯”ä¾‹** | å¼‚å¸¸è¯·æ±‚æ¯”ä¾‹ > é˜ˆå€¼ | ä¸šåŠ¡å¼‚å¸¸ç‡é«˜ |  
| **å¼‚å¸¸æ•°** | å¼‚å¸¸è¯·æ±‚æ•° > é˜ˆå€¼ | ç»å¯¹å¼‚å¸¸æ•°æ§åˆ¶ |

### 5.2 ç†”æ–­çŠ¶æ€æœº

```mermaid
graph TB
    A[å…³é—­çŠ¶æ€] --> B{è¾¾åˆ°ç†”æ–­æ¡ä»¶}
    B -->|æ˜¯| C[å¼€å¯çŠ¶æ€]
    B -->|å¦| A
    C --> D[ç­‰å¾…æ—¶é—´çª—]
    D --> E[åŠå¼€çŠ¶æ€]
    E --> F{æ¢æµ‹è¯·æ±‚æˆåŠŸ}
    F -->|æ˜¯| A
    F -->|å¦| C
```

### 5.3 æ…¢è°ƒç”¨æ¯”ä¾‹ç†”æ–­

**é…ç½®ç¤ºä¾‹**:
```yaml
èµ„æºå: user-slow
ç†”æ–­ç­–ç•¥: æ…¢è°ƒç”¨æ¯”ä¾‹
æœ€å¤§ RT: 1000ms      # è¶…è¿‡1ç§’ç®—æ…¢è°ƒç”¨
æ¯”ä¾‹é˜ˆå€¼: 0.6        # 60%çš„è¯·æ±‚æ˜¯æ…¢è°ƒç”¨æ—¶ç†”æ–­
ç†”æ–­æ—¶é•¿: 10s        # ç†”æ–­10ç§’
æœ€å°è¯·æ±‚æ•°: 5        # è‡³å°‘5ä¸ªè¯·æ±‚æ‰ç»Ÿè®¡
ç»Ÿè®¡æ—¶é•¿: 1000ms     # 1ç§’å†…çš„ç»Ÿè®¡
```

**æµ‹è¯•æ­¥éª¤**:
1. é…ç½®ä¸Šè¿°ç†”æ–­è§„åˆ™
2. è®¿é—®æ…¢è°ƒç”¨æ¥å£: `http://localhost:8081/api/sentinel/slow?delay=1200`
3. å¿«é€Ÿå¤šæ¬¡è®¿é—®ï¼Œè§‚å¯Ÿç†”æ–­æ•ˆæœ

### 5.4 å¼‚å¸¸æ¯”ä¾‹ç†”æ–­  

**é…ç½®ç¤ºä¾‹**:
```yaml
èµ„æºå: product-exception
ç†”æ–­ç­–ç•¥: å¼‚å¸¸æ¯”ä¾‹  
æ¯”ä¾‹é˜ˆå€¼: 0.4        # 40%å¼‚å¸¸ç‡æ—¶ç†”æ–­
ç†”æ–­æ—¶é•¿: 10s
æœ€å°è¯·æ±‚æ•°: 5
ç»Ÿè®¡æ—¶é•¿: 1000ms
```

**æµ‹è¯•æ­¥éª¤**:
1. é…ç½®å¼‚å¸¸æ¯”ä¾‹ç†”æ–­è§„åˆ™
2. è®¿é—®å¼‚å¸¸æ¥å£: `http://localhost:8082/api/sentinel/exception?errorRate=50`
3. å¤šæ¬¡è®¿é—®ï¼Œè§‚å¯Ÿç†”æ–­å’Œæ¢å¤è¿‡ç¨‹

---

## 6. çƒ­ç‚¹å‚æ•°é™æµ

### 6.1 æ¦‚å¿µè¯´æ˜

çƒ­ç‚¹å‚æ•°é™æµé’ˆå¯¹ç‰¹å®šå‚æ•°å€¼è¿›è¡Œé™æµï¼Œä¾‹å¦‚:
- çƒ­é—¨å•†å“ID  
- VIPç”¨æˆ·ID
- ç‰¹å®šAPI Key

### 6.2 é…ç½®æ­¥éª¤

1. **è¿›å…¥çƒ­ç‚¹è§„åˆ™é¡µé¢**

2. **æ–°å¢çƒ­ç‚¹è§„åˆ™**:
   ```yaml
   èµ„æºå: user-hotkey
   å‚æ•°ç´¢å¼•: 0          # ç¬¬ä¸€ä¸ªå‚æ•° (userId)  
   å•æœºé˜ˆå€¼: 2          # è¯¥å‚æ•°å€¼æ¯ç§’æœ€å¤š2æ¬¡è¯·æ±‚
   ç»Ÿè®¡çª—å£æ—¶é•¿: 1s
   ```

3. **é…ç½®å‚æ•°ä¾‹å¤–é¡¹** (å¯é€‰):
   ```yaml
   å‚æ•°ç±»å‹: String
   å‚æ•°å€¼: "vip001"    # VIPç”¨æˆ·
   é™æµé˜ˆå€¼: 10        # VIPç”¨æˆ·å¯ä»¥10æ¬¡/ç§’
   ```

### 6.3 æµ‹è¯•çƒ­ç‚¹é™æµ

```bash
# æµ‹è¯•æ™®é€šç”¨æˆ·é™æµ (2 QPS)
curl http://localhost:8081/api/sentinel/hotkey/user123
curl http://localhost:8081/api/sentinel/hotkey/user123  
curl http://localhost:8081/api/sentinel/hotkey/user123  # è¢«é™æµ

# æµ‹è¯•VIPç”¨æˆ· (10 QPS)
curl http://localhost:8081/api/sentinel/hotkey/vip001   # ä¸å—é™åˆ¶
```

---

## 7. OpenFeign é›†æˆ

### 7.1 æ·»åŠ  Feign é›†æˆä¾èµ–

å·²åœ¨ç°æœ‰é¡¹ç›®ä¸­é…ç½®ï¼ŒåŒ…å«:
- `spring-cloud-starter-openfeign`  
- `spring-cloud-starter-alibaba-sentinel`

### 7.2 å¯ç”¨ Sentinel å¯¹ Feign çš„æ”¯æŒ

åœ¨ `application.yml` ä¸­é…ç½®:
```yaml
feign:
  sentinel:
    enabled: true
```

### 7.3 åˆ›å»º Feign å®¢æˆ·ç«¯

```java
@FeignClient(name = "product-service", 
             fallback = ProductServiceFallback.class)
public interface ProductServiceClient {
    
    @GetMapping("/api/sentinel/test")
    String testProduct();
    
    @GetMapping("/api/sentinel/inventory/{productId}")  
    String getInventory(@PathVariable String productId);
}

@Component
public class ProductServiceFallback implements ProductServiceClient {
    
    @Override
    public String testProduct() {
        return "å•†å“æœåŠ¡æš‚æ—¶ä¸å¯ç”¨";
    }
    
    @Override
    public String getInventory(String productId) {
        return "å•†å“åº“å­˜æŸ¥è¯¢å¤±è´¥ï¼Œå•†å“ID: " + productId;
    }
}
```

### 7.4 æµ‹è¯•æœåŠ¡é—´å®¹é”™

1. **æ­£å¸¸è°ƒç”¨æµ‹è¯•**
2. **å…³é—­ product-service**  
3. **è§‚å¯Ÿé™çº§æ•ˆæœ**

---

## 8. è§„åˆ™æŒä¹…åŒ–

### 8.1 é—®é¢˜è¯´æ˜

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSentinel è§„åˆ™å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‡å¯åä¸¢å¤±ã€‚

### 8.2 Nacos æŒä¹…åŒ–æ–¹æ¡ˆ

#### 8.2.1 æ·»åŠ ä¾èµ–
```xml
<dependency>
    <groupId>com.alibaba.csp</groupId>
    <artifactId>sentinel-datasource-nacos</artifactId>
</dependency>
```

#### 8.2.2 é…ç½®æ•°æ®æº
```yaml
spring:
  cloud:
    sentinel:
      datasource:
        # æµæ§è§„åˆ™
        flow:
          nacos:
            server-addr: 172.24.238.72:8848
            dataId: ${spring.application.name}-flow-rules
            groupId: SENTINEL_GROUP
            rule-type: flow
        # ç†”æ–­è§„åˆ™
        degrade:  
          nacos:
            server-addr: 172.24.238.72:8848
            dataId: ${spring.application.name}-degrade-rules
            groupId: SENTINEL_GROUP
            rule-type: degrade
```

#### 8.2.3 åœ¨ Nacos ä¸­åˆ›å»ºè§„åˆ™é…ç½®

**æµæ§è§„åˆ™ç¤ºä¾‹** (`user-service-flow-rules`):
```json
[
  {
    "resource": "user-test",
    "limitApp": "default", 
    "grade": 1,
    "count": 2,
    "strategy": 0,
    "controlBehavior": 0,
    "clusterMode": false
  }
]
```

---

## 9. ç”Ÿäº§ç¯å¢ƒå»ºè®®

### 9.1 ç›‘æ§å‘Šè­¦

1. **å…³é”®æŒ‡æ ‡ç›‘æ§**:
   - é™æµQPS  
   - ç†”æ–­æ¬¡æ•°
   - å“åº”æ—¶é—´

2. **å‘Šè­¦é…ç½®**:
   - ç†”æ–­é¢‘ç‡è¿‡é«˜
   - é™æµæ¯”ä¾‹è¿‡é«˜
   - æœåŠ¡ä¸å¯ç”¨

### 9.2 è§„åˆ™é…ç½®å»ºè®®

| åœºæ™¯ | æµæ§å»ºè®® | ç†”æ–­å»ºè®® |
|------|----------|----------|
| **æ ¸å¿ƒæ¥å£** | QPSé™æµ + é¢„çƒ­ | æ…¢è°ƒç”¨æ¯”ä¾‹ç†”æ–­ |
| **æŸ¥è¯¢æ¥å£** | çº¿ç¨‹æ•°é™æµ | å¼‚å¸¸æ¯”ä¾‹ç†”æ–­ |  
| **å†™å…¥æ¥å£** | æ’é˜Ÿç­‰å¾… | å¼‚å¸¸æ•°ç†”æ–­ |
| **å¤–éƒ¨è°ƒç”¨** | å…³è”é™æµ | å¿«é€Ÿç†”æ–­æ¢å¤ |

### 9.3 å®¹é‡è§„åˆ’

```bash
# æ ¹æ®ä¸šåŠ¡åœºæ™¯è®¾ç½®åˆç†é˜ˆå€¼

# é«˜é¢‘æŸ¥è¯¢æ¥å£
QPS: 100-500 (æ ¹æ®æœåŠ¡èƒ½åŠ›)
RT: < 200ms
ç†”æ–­é˜ˆå€¼: å¼‚å¸¸ç‡ > 5%

# æ ¸å¿ƒä¸šåŠ¡æ¥å£  
QPS: 50-200
RT: < 500ms
ç†”æ–­é˜ˆå€¼: æ…¢è°ƒç”¨æ¯”ä¾‹ > 30%

# æ‰¹é‡å¤„ç†æ¥å£
çº¿ç¨‹æ•°: 5-10
è¶…æ—¶æ—¶é—´: 30s
ç†”æ–­é˜ˆå€¼: å¼‚å¸¸æ•° > 10
```

---

## 10. æ•…éšœæ’æŸ¥

### 10.1 å¸¸è§é—®é¢˜

#### 10.1.1 æœåŠ¡ä¸å‡ºç°åœ¨ Dashboard

**åŸå› **:
- æœåŠ¡æœªè®¿é—®è¿‡ï¼Œæ²¡æœ‰äº§ç”Ÿæµé‡
- Dashboard åœ°å€é…ç½®é”™è¯¯
- ç«¯å£è¢«å ç”¨

**æ’æŸ¥æ­¥éª¤**:
```bash
# 1. ç¡®è®¤é…ç½®
spring.cloud.sentinel.transport.dashboard=localhost:8858
spring.cloud.sentinel.transport.port=8719

# 2. è®¿é—®æ¥å£äº§ç”Ÿæµé‡
curl http://localhost:8081/api/sentinel/test

# 3. æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr 8719
```

#### 10.1.2 è§„åˆ™ä¸ç”Ÿæ•ˆ

**åŸå› **:
- èµ„æºåä¸åŒ¹é…
- é˜ˆå€¼è®¾ç½®è¿‡å¤§
- ç»Ÿè®¡æ—¶é—´çª—å£æœªæ»¡

**æ’æŸ¥æ­¥éª¤**:
1. ç¡®è®¤èµ„æºåå®Œå…¨ä¸€è‡´
2. æŸ¥çœ‹å®æ—¶ç›‘æ§æ•°æ®  
3. é™ä½é˜ˆå€¼è¿›è¡Œæµ‹è¯•

#### 10.1.3 é™çº§æ–¹æ³•æœªæ‰§è¡Œ

**åŸå› **:
- æ–¹æ³•ç­¾åä¸åŒ¹é…
- BlockException å‚æ•°ç¼ºå¤±
- é™çº§æ–¹æ³•ä¸åœ¨åŒä¸€ä¸ªç±»

**è§£å†³æ–¹æ¡ˆ**:
```java
// æ­£ç¡®çš„é™çº§æ–¹æ³•ç­¾å
@SentinelResource(value = "test", blockHandler = "testBlockHandler")
public String test(String param) {
    return "normal";
}

// blockHandler æ–¹æ³•å¿…é¡»ï¼š
// 1. ç›¸åŒè¿”å›ç±»å‹
// 2. ç›¸åŒå‚æ•° + BlockException
// 3. public static æˆ– åŒç±»å®ä¾‹æ–¹æ³•
public String testBlockHandler(String param, BlockException ex) {
    return "blocked";  
}
```

### 10.2 è°ƒè¯•æŠ€å·§

1. **å¼€å¯è°ƒè¯•æ—¥å¿—**:
   ```yaml
   logging:
     level:
       com.alibaba.csp.sentinel: DEBUG
   ```

2. **æŸ¥çœ‹è§„åˆ™åŠ è½½æ—¥å¿—**
3. **ä½¿ç”¨ Actuator ç«¯ç‚¹**:
   ```bash
   curl http://localhost:8081/actuator/sentinel
   ```

---

## ğŸ¯ å­¦ä¹ æˆæœéªŒæ”¶

å®Œæˆæœ¬ç« å­¦ä¹ åï¼Œä½ åº”è¯¥èƒ½å¤Ÿ:

- âœ… ç†è§£å¾®æœåŠ¡å®¹é”™çš„é‡è¦æ€§å’Œé›ªå´©æ•ˆåº”
- âœ… ç†Ÿç»ƒä½¿ç”¨ Sentinel Dashboard è¿›è¡Œå¯è§†åŒ–é…ç½®  
- âœ… é…ç½®å„ç§æµæ§è§„åˆ™ä¿æŠ¤ç³»ç»Ÿèµ„æº
- âœ… é…ç½®ç†”æ–­é™çº§æå‡ç³»ç»Ÿç¨³å®šæ€§
- âœ… å®ç°æœåŠ¡é—´è°ƒç”¨çš„å®¹é”™ä¿æŠ¤
- âœ… åº”ç”¨çƒ­ç‚¹å‚æ•°é™æµä¿æŠ¤çƒ­ç‚¹æ•°æ®
- âœ… è§£å†³ç”Ÿäº§ç¯å¢ƒä¸­çš„å®¹é”™é—®é¢˜

**æ­å–œä½ ï¼** ç°åœ¨å·²ç»æŒæ¡äº†å¾®æœåŠ¡å®¹é”™ä¿æŠ¤çš„æ ¸å¿ƒæŠ€èƒ½ã€‚ä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹  **Spring Cloud Gateway** - ç»Ÿä¸€APIå…¥å£ï¼

---

### ğŸ“š å»¶ä¼¸é˜…è¯»

- [Sentinel å®˜æ–¹æ–‡æ¡£](https://sentinelguard.io/zh-cn/)
- [Spring Cloud Alibaba Sentinel](https://github.com/alibaba/spring-cloud-alibaba/wiki/Sentinel)  
- [å¾®æœåŠ¡å®¹é”™æ¨¡å¼](https://docs.microsoft.com/zh-cn/azure/architecture/patterns/circuit-breaker)